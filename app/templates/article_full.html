<!-- Only include header/footer if full version of article -->
{% if full == True %} 
    {% extends "base.html" %}
{% endif %}

{% block content %}
<body>
    <!-- Star Rating Script-->
    <script>
        function star_rating(rating, id) {
            for (i = 0; i < 5; i++) { //loop 5 times
                if ((rating - 2) >= 0) { 
                    $(".star_rating#" + id).append("<i class='bi bi-star-fill'></i>"); //add full star
                    rating -= 2
                } else if ((rating - 1) == 0) { 
                    $(".star_rating#" + id).append("<i class='bi bi-star-half'></i>"); //add half star
                    rating -= 1
                } else { 
                    $(".star_rating#" + id).append("<i class='bi bi-star'></i>"); //add empty star
                }
            }
        }
    </script>

{% if full == False %} 
    <div class="container" style="border: black solid 3px; cursor:pointer;" onclick="location.href = '/article/{{ album.album_id }}';">
{% else %}
    <div class="container" style="border: black solid 3px;">
{% endif %}
        <div class="row">
            <!-- Album Image -->
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                <img src="{{ album.album_art }}" style="width:300px; margin:10px; border:black solid 3px;">
            </div>

            <!-- Album Info -->
            <div class = "col-xs-7 col-sm-7 col-md-7 col-lg-7">

                <div class="row">
                    <h1 style="font-size: 40pt;">{{ album.album_title }}</h1>
                </div>

                <div class="row">
                    <h3>{{ album.album_artist }} / {{ album.album_year }} / {{ album.album_type }}</h3>
                </div>

                <div class="row">
                    <h3 class="star_rating" id="album_{{ album.album_id }}"></h3>
                </div>

                <div class="row">
                    <h3> {{ album.album_review_no }} reviews, {{ album.album_rating_no }} ratings</h3>
                </div>
            </div>

            <!-- Follow Button -->
            <div class = "col-xs-1 col-sm-1 col-md-1 col-lg-1">
                <p>[button]</p>
            </div>
        </div>
    </div>

    <!-- Only include reviews if full version of article -->
    {% if full == True %}
        {% for review in reviews %}
            {% with %}
                {% set review=review %}
                {% include "review.html"%}
            {% endwith %}
        {% endfor %}
    {% endif %}

    <!-- Call star rating script for albums here-->
    <script>
        star_rating("{{ album.album_rating }}", "album_" + "{{ album.album_id }}")
    </script>
</body>
{% endblock %}