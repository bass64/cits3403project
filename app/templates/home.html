{% extends "base.html" %}
{% block content %}
<body>
    <!-- For loop to display every article passed to the home page -->
    {% for album in articles %}
    <div class="container" style="border: black solid 3px;">
        <div class="row">
            <!-- Album Image -->
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                <img src="{{ album.album_art }}" style="width:300px; margin:10px; border:black solid 3px;">
            </div>

            <!-- Album Info -->
            <div class = "col-xs-7 col-sm-7 col-md-7 col-lg-7">

                <div class="row">
                    <h1 style="font-size: 40pt;">{{ album.title }}</h1>
                </div>

                <div class="row">
                    <h3>{{ album.artist }} / {{ album.year }} / {{ album.type }}</h3>
                </div>

                <div class="row">
                    <h3 class="star_rating" id="{{ album.id }}"></h3>
                </div>

                <div class="row">
                    <h3> {{ album.review_no }} reviews, {{ album.rating_no }} ratings</h3>
                </div>
            </div>

            <!-- Follow Button, add functionality later -->
            <div class = "col-xs-1 col-sm-1 col-md-1 col-lg-1">
                <p>[button]</p>
            </div>
        </div>
    </div>

    <!-- Star Rating Script-->
    <script>
        rating = "{{ album.star_rating }}" - 0;
        for (i = 0; i < 5; i++) { //loop 5 times
            if ((rating - 2) > 0) { 
                $(".star_rating#{{ album.id }}").append("<i class='bi bi-star-fill'></i>"); //add full star
                rating -= 2
            } else if ((rating - 1) == 0) { 
                $(".star_rating#{{ album.id }}").append("<i class='bi bi-star-half'></i>"); //add half star
                rating -= 1
            } else { 
                $(".star_rating#{{ album.id }}").append("<i class='bi bi-star'></i>"); //add empty star
            }
        }
    </script>
    {% endfor %}
</body>
{% endblock %}